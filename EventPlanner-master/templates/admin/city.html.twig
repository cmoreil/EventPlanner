{% extends 'view/base.html.twig' %}
{%block title %}
    {{ parent() }} site
{% endblock %}

{% block body %}

    <h1 class="text-center my-5">Manage cities</h1>
    <div class="row d-flex justify-content-center">
    <div class="col-sm-8">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>
                    City
                </th>
                <th>
                    Zip code
                </th>
                <th>
                    Actions
                </th>
            </tr>
        </thead>
        {% for city in cities %}
            {% if city.id == id %}
                <tr>
                    {{ form_start(cityForm) }}
                    <td>
                        {{ form_row(cityForm.name) }}
                    </td>
                    <td>
                        {{ form_row(cityForm.zipCode) }}
                    </td>
                    <td>
                        <button>Update</button>
                    </td>
                    {{ form_end(cityForm) }}
                </tr>
                {% else %}
                <tr>
                    <td>{{ city.name }}</td>
                    <td>{{ city.zipCode }}</td>
                    <td><a class="text-bleu" href="{{ path('admin_update_city', {'id': city.id}) }}">Update</a> -
                            <a class="text-bleu" href="{{ path('admin_delete_city', {'id': city.id}) }}">Delete</a></td>
                </tr>
            {% endif %}
        {% endfor %}
        {% if id %}
            </table>
        {% else %}
        <tr>
            {{ form_start(cityForm) }}
            <td>
                {{ form_row(cityForm.name) }}
            </td>
            <td>
                {{ form_row(cityForm.zipCode) }}
            </td>
            <td>
                <button class="btn bouton d-flex mx-auto">Add</button>
            </td>
            {{ form_end(cityForm) }}
        </tr>
        {% endif %}
    </table>
    </div>
    </div>
{% endblock %}